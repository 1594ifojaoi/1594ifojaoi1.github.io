<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EchoSafe Harbour - AIè‡ªåŠ©ï¼ˆ24å°æ—¶æƒ…ç»ªæ”¯æŒï¼‰</title>
    <link href="./style.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
</head>
<body class="bg-gray-50 font-sans">
    <!-- é¡¶éƒ¨å¯¼èˆªæ  -->
<header class="bg-white shadow-sm sticky top-0 z-40">
    <div class="container mx-auto px-4 py-3 flex items-center justify-between">
        <!-- Logo (æ›¿æ¢ä¸ºå›¾ç‰‡) -->
        <div class="flex items-center space-x-2">
            <img src="./logo.png" alt="EchoSafe Harbour Logo" class="w-10 h-10 rounded-full object-cover">
            <span class="text-lg font-bold text-dark">EchoSafe Harbor</span>
        </div>
        
        <!-- æœç´¢æ¡† -->
        <div class="hidden md:flex items-center flex-1 max-w-xl mx-4">
            <div class="relative w-full">
                <input type="text" placeholder="æœç´¢é—®é¢˜æˆ–æ ‡ç­¾..." class="w-full pl-10 pr-4 py-2 rounded-full border border-gray-200 focus:outline-none focus:ring-2 focus:ring-primary/30 focus:border-primary">
                <i class="fa fa-search absolute left-3 top-3 text-gray-400"></i>
            </div>
        </div>
        
        <!-- å¯¼èˆªé“¾æ¥ï¼ˆåŒ…å«æ‰€æœ‰èœå•é¡¹ï¼‰ -->
        <nav class="hidden md:flex items-center space-x-6">
            <a href="#" class="text-primary font-medium">æé—®å¹¿åœº</a>
            <a href="ai-self-help.html" class="text-gray-600 hover:text-primary">AIè‡ªåŠ©</a>
            <a href="my-questions.html" class="text-gray-600 hover:text-primary">æˆ‘çš„æé—®</a>
            <a href="my-answers.html" class="text-gray-600 hover:text-primary">æˆ‘çš„å›å¤</a>
            <a href="anonymous-community.html" class="text-gray-600 hover:text-primary">åŒ¿ååŒä¼´ç¤¾åŒº</a>
            <button id="publish-btn-desktop" class="btn-primary flex items-center">
                <i class="fa fa-plus mr-2"></i>
                <span>å»æé—®</span>
            </button>
        </nav>
        
        <!-- ç§»åŠ¨ç«¯èœå•æŒ‰é’® -->
        <button class="md:hidden text-gray-600 focus:outline-none" id="mobile-menu-btn">
            <i class="fa fa-bars text-xl"></i>
        </button>
    </div>
    
    <!-- ç§»åŠ¨ç«¯æœç´¢æ¡† -->
    <div class="md:hidden px-4 pb-3">
        <div class="relative">
            <input type="text" placeholder="æœç´¢é—®é¢˜æˆ–æ ‡ç­¾..." class="w-full pl-10 pr-4 py-2 rounded-full border border-gray-200 focus:outline-none focus:ring-2 focus:ring-primary/30 focus:border-primary">
            <i class="fa fa-search absolute left-3 top-3 text-gray-400"></i>
        </div>
    </div>
    
    <!-- ç§»åŠ¨ç«¯èœå•ï¼ˆåªä¿ç•™ä¸€ä¸ªï¼ŒåŒ…å«æ‰€æœ‰èœå•é¡¹ï¼‰ -->
    <div class="md:hidden hidden bg-white border-t border-gray-100" id="mobile-menu">
        <div class="container mx-auto px-4 py-2">
            <nav class="flex flex-col space-y-3 py-2">
                <a href="#" class="text-primary font-medium py-2">æé—®å¹¿åœº</a>
                <a href="ai-self-help.html" class="text-gray-600 hover:text-primary py-2">AIè‡ªåŠ©</a>
                <a href="my-questions.html" class="text-gray-600 hover:text-primary py-2">æˆ‘çš„æé—®</a>
                <a href="my-answers.html" class="text-gray-600 hover:text-primary py-2">æˆ‘çš„å›å¤</a>
                <a href="anonymous-community.html" class="text-gray-600 hover:text-primary py-2">åŒ¿ååŒä¼´ç¤¾åŒº</a>
            </nav>
        </div>
    </div>
</header>

    <!-- ä¸»å†…å®¹åŒº -->
    <main class="container mx-auto px-4 py-6">
        <!-- AIè‡ªåŠ©ä»‹ç»åŒº -->
        <section class="bg-white rounded-lg shadow-card p-6 mb-6">
            <h2 class="text-xl font-bold text-dark mb-4 flex items-center">
                <i class="fa fa-robot text-primary mr-2"></i>
                AIè‡ªåŠ©ï¼ˆ24å°æ—¶æƒ…ç»ªæ”¯æŒï¼‰
            </h2>
            <div class="grid md:grid-cols-2 gap-6">
                <div>
                    <p class="text-gray-700 mb-3">
                        æˆ‘ä»¬çš„AIä»ã€Œè®°å½•åŠ©æ‰‹ã€è¿›åŒ–ä¸ºã€Œå¿ƒç†å¯¼èˆªå‘˜ã€ï¼ŒåŸºäº200ä¸‡æ¡è„±æ•é«˜æ ¡å’¨è¯¢å¯¹è¯ã€ICD-11æƒ…ç»ªéšœç¢çŸ¥è¯†å›¾è°±åŠ2024ã€Šä¸­å›½å¿ƒç†å¥åº·è“çš®ä¹¦ã€‹å¾ªè¯æŠ€æœ¯è®­ç»ƒï¼Œæ—¢æ‡‚ä¸“ä¸šåˆæœ‰æ¸©åº¦ã€‚
                    </p>
                    <ul class="text-gray-700 space-y-2 list-disc pl-5 mb-4">
                        <li>å›å¤å‰é€šè¿‡è‡ªæ€/è‡ªä¼¤å…³é”®è¯é£é™©æ£€éªŒï¼Œç¡®ä¿å®‰å…¨</li>
                        <li>æ¯å¥è¯åŒ¹é…å¾ªè¯æŠ€æœ¯æ ‡ç­¾ï¼Œæœ‰ç†è®ºå‡ºå¤„ä¸ç©ºæ´</li>
                        <li>åŠ¨æ€ç»˜åˆ¶æƒ…ç»ªå›¾è°±ï¼Œå¯è§†åŒ–å¿ƒç†çŠ¶æ€è¶‹åŠ¿</li>
                        <li>ç”Ÿæˆä¸ªæ€§åŒ–æˆé•¿è·¯å¾„ï¼Œæ¨èæ­£å¿µç»ƒä¹ ã€è®¤çŸ¥è°ƒæ•´è¯¾ç¨‹</li>
                        <li>æ¯å‘¨æ¨¡å‹å¾®è°ƒï¼Œé€‚é…ä½ çš„å¿ƒç†ç‰¹å¾æŒç»­è¿›åŒ–</li>
                    </ul>
                    <!-- å…è´£å£°æ˜ -->
                    <div class="bg-warning/10 rounded-md p-3 text-sm text-warning">
                        <i class="fa fa-exclamation-triangle mr-1"></i>
                        <strong>å…è´£å£°æ˜ï¼š</strong>AIæä¾›çš„å»ºè®®ä»…ä¾›å‚è€ƒï¼Œä¸èƒ½æ›¿ä»£ä¸“ä¸šåŒ»ç–—è¯Šæ–­æˆ–å¿ƒç†å’¨è¯¢æœåŠ¡ã€‚å¦‚é‡ä¸¥é‡å¿ƒç†å±æœºï¼Œè¯·åŠæ—¶è”ç³»ä¸“ä¸šæœºæ„æˆ–äººå‘˜ã€‚
                    </div>
                </div>
                <div class="bg-gray-50 rounded-lg p-4 flex items-center justify-center">
                    <!-- æƒ…ç»ªä»ªè¡¨ç›˜ç¤ºæ„å›¾ -->
                    <div class="w-full max-w-xs">
                        <h4 class="text-center font-medium mb-2">ä½ çš„æƒ…ç»ªä»ªè¡¨ç›˜</h4>
                        <div class="relative h-48 w-full">
                            <!-- ç®€æ˜“æŠ˜çº¿å›¾æ¨¡æ‹Ÿæƒ…ç»ªè¶‹åŠ¿ -->
                            <svg class="w-full h-full" viewBox="0 0 200 150">
                                <path d="M20,75 L40,60 L60,80 L80,50 L100,90 L120,70 L140,65 L160,85 L180,70" 
                                      stroke="#4F46E5" stroke-width="3" fill="none"></path>
                                <path d="M20,75 L40,60 L60,80 L80,50 L100,90 L120,70 L140,65 L160,85 L180,70" 
                                      stroke="#4F46E5" stroke-width="1" fill="rgba(79, 70, 229, 0.1)"></path>
                                <text x="100" y="120" text-anchor="middle" class="text-xs text-gray-600">è¿‘7å¤©æƒ…ç»ªè¶‹åŠ¿</text>
                            </svg>
                        </div>
                        <div class="flex justify-between text-xs text-gray-600 mt-2">
                            <span>ç„¦è™‘</span>
                            <span>æŠ‘éƒ</span>
                            <span>å¹³é™</span>
                            <span>æ„‰æ‚¦</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- AIå¯¹è¯äº¤äº’åŒº -->
        <section class="bg-white rounded-lg shadow-card p-6 mb-6">
            <h3 class="text-lg font-bold text-dark mb-4">å’ŒAIå¿ƒç†å¯¼èˆªå‘˜èŠèŠ</h3>
            <div class="flex flex-col h-[400px] md:h-[500px]">
                <!-- å¯¹è¯åˆ—è¡¨ -->
                <div class="flex-1 overflow-y-auto bg-gray-50 rounded-md p-4 mb-4 space-y-4" id="ai-chat-list">
                    <!-- ç³»ç»Ÿæ¬¢è¿è¯­ -->
                    <div class="flex flex-col items-start">
                        <div class="bg-primary/10 text-primary rounded-lg rounded-tl-none px-4 py-2 max-w-[80%]">
                            <p class="text-sm">ä½ å¥½å‘€ ğŸ˜Š æˆ‘æ˜¯ä½ çš„AIå¿ƒç†å¯¼èˆªå‘˜ï¼Œéšæ—¶éƒ½åœ¨ã€‚å¯ä»¥å’Œæˆ‘è¯´è¯´ä½ çš„å¿ƒäº‹ã€æƒ…ç»ªï¼Œæˆ–è€…æƒ³èŠèŠä»»ä½•è®©ä½ å›°æ‰°çš„äº‹æƒ…ï½</p>
                            <p class="text-xs text-primary/70 mt-1">åŸºäºå¾ªè¯æŠ€æœ¯å›å¤ | 24å°æ—¶åœ¨çº¿</p>
                        </div>
                    </div>
                </div>
                <!-- è¾“å…¥åŒº -->
                <div class="flex gap-2">
                    <textarea placeholder="è¯·æè¿°ä½ çš„æƒ…ç»ªæˆ–é—®é¢˜ï¼ˆæ¯”å¦‚ï¼šæœ€è¿‘å·¥ä½œå‹åŠ›å¤§ï¼Œæ€»æ˜¯ç„¦è™‘ç¡ä¸ç€ï¼‰..." 
                              class="flex-1 border border-gray-200 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary/30 focus:border-primary h-16 resize-none"
                              id="ai-chat-input"></textarea>
                    <button class="btn-primary shrink-0 h-16 px-4" id="ai-chat-send">
                        <i class="fa fa-paper-plane"></i>
                    </button>
                </div>
            </div>
        </section>

        <!-- è‡ªåŠ©å†…å®¹æ¨èåŒº -->
        <section class="bg-white rounded-lg shadow-card p-6">
            <h3 class="text-lg font-bold text-dark mb-4">ä¸ºä½ æ¨èçš„è‡ªåŠ©å†…å®¹</h3>
            <div class="grid sm:grid-cols-2 lg:grid-cols-3 gap-4">
                <!-- æ­£å¿µç»ƒä¹  -->
                <div class="border border-gray-100 rounded-lg p-4 hover:shadow-card-hover transition-shadow">
                    <div class="flex items-center mb-2">
                        <div class="w-8 h-8 rounded-full bg-green-100 flex items-center justify-center mr-2">
                            <i class="fa fa-leaf text-green-600"></i>
                        </div>
                        <h4 class="font-medium">5åˆ†é’Ÿæ­£å¿µå‘¼å¸ç»ƒä¹ </h4>
                    </div>
                    <p class="text-sm text-gray-600 mb-3">ç¼“è§£å³æ—¶ç„¦è™‘ï¼Œä¸“æ³¨å½“ä¸‹ï¼Œå¹³å¤æƒ…ç»ªæ³¢åŠ¨</p>
                    <a href="#" class="text-primary text-sm hover:underline flex items-center">
                        å¼€å§‹ç»ƒä¹  <i class="fa fa-arrow-right ml-1"></i>
                    </a>
                </div>
                <!-- è®¤çŸ¥è°ƒæ•´è¯¾ç¨‹ -->
                <div class="border border-gray-100 rounded-lg p-4 hover:shadow-card-hover transition-shadow">
                    <div class="flex items-center mb-2">
                        <div class="w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center mr-2">
                            <i class="fa fa-book text-primary"></i>
                        </div>
                        <h4 class="font-medium">è®¤çŸ¥é‡æ„å…¥é—¨è¯¾ç¨‹</h4>
                    </div>
                    <p class="text-sm text-gray-600 mb-3">è¯†åˆ«è´Ÿé¢æ€ç»´æ¨¡å¼ï¼Œè°ƒæ•´éç†æ€§ä¿¡å¿µ</p>
                    <a href="#" class="text-primary text-sm hover:underline flex items-center">
                        å¼€å§‹å­¦ä¹  <i class="fa fa-arrow-right ml-1"></i>
                    </a>
                </div>
                <!-- æƒ…ç»ªæ—¥è®°æ¨¡æ¿ -->
                <div class="border border-gray-100 rounded-lg p-4 hover:shadow-card-hover transition-shadow">
                    <div class="flex items-center mb-2">
                        <div class="w-8 h-8 rounded-full bg-yellow-100 flex items-center justify-center mr-2">
                            <i class="fa fa-pencil text-yellow-600"></i>
                        </div>
                        <h4 class="font-medium">æƒ…ç»ªæ—¥è®°æ¨¡æ¿</h4>
                    </div>
                    <p class="text-sm text-gray-600 mb-3">è®°å½•æƒ…ç»ªè§¦å‘ç‚¹ï¼Œæ¢³ç†æƒ³æ³•å’Œæ„Ÿå—</p>
                    <a href="#" class="text-primary text-sm hover:underline flex items-center">
                        ä¸‹è½½æ¨¡æ¿ <i class="fa fa-arrow-right ml-1"></i>
                    </a>
                </div>
            </div>
        </section>
    </main>

    <!-- ç§»åŠ¨ç«¯æ‚¬æµ®å‘å¸–æŒ‰é’® -->
    <button class="btn-floating md:hidden" id="publish-btn-mobile">
        <i class="fa fa-plus text-xl"></i>
    </button>

    <!-- å‘å¸–å¼¹çª—ï¼ˆå¤ç”¨index.htmlçš„å¼¹çª—ï¼‰ -->
    <div class="fixed inset-0 bg-black/50 flex items-center justify-center z-50 hidden" id="publish-modal">
        <div class="bg-white rounded-xl w-full max-w-md mx-4 max-h-[90vh] overflow-y-auto">
            <div class="p-5">
                <div class="flex items-center justify-between mb-5">
                    <h3 class="text-lg font-bold text-dark">å‘å¸ƒé—®é¢˜</h3>
                    <button class="text-gray-400 hover:text-gray-600" id="close-modal-btn">
                        <i class="fa fa-times text-xl"></i>
                    </button>
                </div>
                <form id="publish-form">
                    <div class="mb-4">
                        <label class="block text-sm text-gray-600 mb-1">éšæœºæ˜µç§°</label>
                        <div class="flex">
                            <input type="text" value="å›å£°_1234" class="flex-1 border border-gray-200 rounded-l-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary/30 focus:border-primary">
                            <button type="button" class="bg-gray-100 text-gray-600 px-3 py-2 rounded-r-md hover:bg-gray-200 text-sm">
                                <i class="fa fa-refresh mr-1"></i>æ¢ä¸€ä¸ª
                            </button>
                        </div>
                    </div>
                    <div class="mb-4">
                        <label class="block text-sm text-gray-600 mb-1">æƒ…ç»ªæ ‡ç­¾ <span class="text-danger">*</span></label>
                        <div class="grid grid-cols-3 gap-2">
                            <button type="button" class="tag-inactive rounded-md px-3 py-2 text-sm text-center publish-tag">ç„¦è™‘</button>
                            <button type="button" class="tag-inactive rounded-md px-3 py-2 text-sm text-center publish-tag">æŠ‘éƒ</button>
                            <button type="button" class="tag-inactive rounded-md px-3 py-2 text-sm text-center publish-tag">äººé™…</button>
                            <button type="button" class="tag-inactive rounded-md px-3 py-2 text-sm text-center publish-tag">å­¦ä¸š</button>
                            <button type="button" class="tag-inactive rounded-md px-3 py-2 text-sm text-center publish-tag">èŒåœº</button>
                            <button type="button" class="tag-inactive rounded-md px-3 py-2 text-sm text-center publish-tag">å…¶ä»–</button>
                        </div>
                    </div>
                    <div class="mb-4">
                        <label class="block text-sm text-gray-600 mb-1">é—®é¢˜æ ‡é¢˜ <span class="text-danger">*</span></label>
                        <input type="text" placeholder="è¯·ç”¨ç²¾ç®€çš„è¯­è¨€æ¦‚æ‹¬ä½ çš„é—®é¢˜ï¼ˆ20å­—ä»¥å†…ï¼‰" class="w-full border border-gray-200 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary/30 focus:border-primary" maxlength="20" id="question-title">
                        <div class="flex justify-end mt-1">
                            <span class="text-xs text-text-secondary" id="title-char-count">0/20</span>
                        </div>
                    </div>
                    <div class="mb-4">
                        <label class="block text-sm text-gray-600 mb-1">é—®é¢˜æè¿° <span class="text-danger">*</span></label>
                        <textarea placeholder="è¯·è¯¦ç»†æè¿°ä½ çš„é—®é¢˜ï¼Œ10-200å­—" class="w-full border border-gray-200 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary/30 focus:border-primary h-32" maxlength="200" id="question-description"></textarea>
                        <div class="flex justify-end mt-1">
                            <span class="text-xs text-text-secondary" id="description-char-count">0/200</span>
                        </div>
                    </div>
                    <div class="mb-6">
                        <button type="button" class="text-primary text-sm hover:underline flex items-center" id="toggle-notice-btn">
                            <i class="fa fa-info-circle mr-1"></i>
                            æŸ¥çœ‹å‘å¸ƒé¡»çŸ¥
                        </button>
                        <div class="hidden mt-2 p-3 bg-gray-50 rounded-md text-xs text-gray-600" id="notice-content">
                            æ‰€æœ‰å›ç­”ç”±èµ„è´¨ä¸“å®¶/å¿—æ„¿è€…è‡ªæ„¿æä¾›ï¼Œ5-7å¤©å†…å¯èƒ½æ— å³æ—¶å“åº”ï¼Œå†…å®¹ä»…ä½œä¸“ä¸šå‚è€ƒã€‚å¹³å°ä¸¥æ ¼ä¿æŠ¤ç”¨æˆ·éšç§ï¼Œæ‰€æœ‰æé—®å‡ä¸ºåŒ¿åå‘å¸ƒã€‚
                        </div>
                    </div>
                    <div class="flex justify-end space-x-3">
                        <button type="button" class="btn-secondary" id="cancel-publish-btn">å–æ¶ˆ</button>
                        <button type="button" class="btn-primary opacity-50 cursor-not-allowed" id="submit-publish-btn" disabled="">å‘å¸ƒ</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <script>
        // ç§»åŠ¨ç«¯èœå•åˆ‡æ¢
        document.getElementById('mobile-menu-btn').addEventListener('click', function() {
            const mobileMenu = document.getElementById('mobile-menu');
            mobileMenu.classList.toggle('hidden');
        });

        // å‘å¸–å¼¹çª—æ§åˆ¶ï¼ˆå¤ç”¨é€»è¾‘ï¼‰
        const publishModal = document.getElementById('publish-modal');
        document.getElementById('publish-btn-desktop').addEventListener('click', function() {
            publishModal.classList.remove('hidden');
        });
        document.getElementById('publish-btn-mobile').addEventListener('click', function() {
            publishModal.classList.remove('hidden');
        });
        document.getElementById('close-modal-btn').addEventListener('click', function() {
            publishModal.classList.add('hidden');
        });
        document.getElementById('cancel-publish-btn').addEventListener('click', function() {
            publishModal.classList.add('hidden');
        });

        // å‘å¸ƒé¡»çŸ¥åˆ‡æ¢
        document.getElementById('toggle-notice-btn').addEventListener('click', function() {
            const noticeContent = document.getElementById('notice-content');
            noticeContent.classList.toggle('hidden');
        });

        // AIå¯¹è¯äº¤äº’é€»è¾‘
        const chatList = document.getElementById('ai-chat-list');
        const chatInput = document.getElementById('ai-chat-input');
        const chatSendBtn = document.getElementById('ai-chat-send');

        // å‘é€æ¶ˆæ¯
        function sendChatMessage() {
            const message = chatInput.value.trim();
            if (!message) return;

            // æ·»åŠ ç”¨æˆ·æ¶ˆæ¯
            const userMessage = document.createElement('div');
            userMessage.className = 'flex flex-col items-end';
            userMessage.innerHTML = `
                <div class="bg-primary text-white rounded-lg rounded-tr-none px-4 py-2 max-w-[80%]">
                    <p class="text-sm">${message}</p>
                </div>
            `;
            chatList.appendChild(userMessage);

            // æ¸…ç©ºè¾“å…¥æ¡†
            chatInput.value = '';
            // æ»šåŠ¨åˆ°åº•éƒ¨
            chatList.scrollTop = chatList.scrollHeight;

            // æ¨¡æ‹ŸAIå›å¤ï¼ˆå®é™…é¡¹ç›®ä¸­æ›¿æ¢ä¸ºæ¥å£è¯·æ±‚ï¼‰
            setTimeout(() => {
                const aiReply = document.createElement('div');
                aiReply.className = 'flex flex-col items-start';
                aiReply.innerHTML = `
                    <div class="bg-primary/10 text-primary rounded-lg rounded-tl-none px-4 py-2 max-w-[80%]">
                        <p class="text-sm">
                            è°¢è°¢ä½ æ„¿æ„åˆ†äº«è¿™äº›æ„Ÿå— ğŸ˜Œ ä»ä½ çš„æè¿°ä¸­èƒ½æ„Ÿå—åˆ°ä½ ç°åœ¨çš„${message.includes('å‹åŠ›') ? 'å‹åŠ›æ„Ÿ' : message.includes('ç„¦è™‘') ? 'ç„¦è™‘æƒ…ç»ª' : 'æƒ…ç»ªå›°æ‰°'}ï¼Œ
                            è¿™æ˜¯å¾ˆæ­£å¸¸çš„ååº”ã€‚æ ¹æ®è®¤çŸ¥è¡Œä¸ºç–—æ³•ï¼ˆCBTï¼‰çš„å¾ªè¯æ–¹æ³•ï¼Œä½ å¯ä»¥å…ˆå°è¯•ã€Œ5åˆ†é’Ÿæ­£å¿µå‘¼å¸ã€ç»ƒä¹ ï¼Œå¸®ä½ å¿«é€Ÿå¹³å¤å½“ä¸‹çš„æƒ…ç»ªã€‚
                            æˆ‘ä¹Ÿä¼šæŠŠä½ çš„æƒ…ç»ªè®°å½•åˆ°ä»ªè¡¨ç›˜ï¼Œåç»­ä¸ºä½ ç”Ÿæˆæ›´è´´åˆçš„è‡ªåŠ©æ–¹æ¡ˆã€‚
                        </p>
                        <p class="text-xs text-primary/70 mt-1">åŸºäºå¾ªè¯æŠ€æœ¯å›å¤ | å·²é€šè¿‡é£é™©æ£€éªŒ</p>
                    </div>
                `;
                chatList.appendChild(aiReply);
                // æ»šåŠ¨åˆ°åº•éƒ¨
                chatList.scrollTop = chatList.scrollHeight;
            }, 1000);
        }

        // ç»‘å®šå‘é€æŒ‰é’®äº‹ä»¶
        chatSendBtn.addEventListener('click', sendChatMessage);
        // å›è½¦å‘é€
        chatInput.addEventListener('keydown', function(e) {
            if (e.key === 'Enter' && !e.shiftKey) {
                e.preventDefault();
                sendChatMessage();
            }
        });

        // è¡¨å•éªŒè¯é€»è¾‘ï¼ˆå¤ç”¨ï¼‰
        const titleInput = document.getElementById('question-title');
        const titleCharCount = document.getElementById('title-char-count');
        const descriptionTextarea = document.getElementById('question-description');
        const descriptionCharCount = document.getElementById('description-char-count');
        const submitButton = document.getElementById('submit-publish-btn');
        const publishTags = document.querySelectorAll('.publish-tag');

        titleInput.addEventListener('input', function() {
            const count = this.value.length;
            titleCharCount.textContent = `${count}/20`;
            checkFormValidity();
        });

        descriptionTextarea.addEventListener('input', function() {
            const count = this.value.length;
            descriptionCharCount.textContent = `${count}/200`;
            checkFormValidity();
        });

        publishTags.forEach(tag => {
            tag.addEventListener('click', function() {
                publishTags.forEach(t => {
                    t.classList.remove('tag-active');
                    t.classList.add('tag-inactive');
                });
                this.classList.remove('tag-inactive');
                this.classList.add('tag-active');
                checkFormValidity();
            });
        });

        function checkFormValidity() {
            const selectedTag = document.querySelector('.publish-tag.tag-active');
            const titleValue = titleInput.value.trim();
            const descriptionValue = descriptionTextarea.value.trim();
            
            if (selectedTag && titleValue.length > 0 && titleValue.length <= 20 && descriptionValue.length >= 10 && descriptionValue.length <= 200) {
                submitButton.disabled = false;
                submitButton.classList.remove('opacity-50', 'cursor-not-allowed');
            } else {
                submitButton.disabled = true;
                submitButton.classList.add('opacity-50', 'cursor-not-allowed');
            }
        }

        // æäº¤è¡¨å•é€»è¾‘
        document.getElementById('submit-publish-btn').addEventListener('click', function() {
            publishModal.classList.add('hidden');
            // æ¨¡æ‹Ÿå‘å¸ƒæˆåŠŸæç¤º
            alert('é—®é¢˜å‘å¸ƒæˆåŠŸï¼');
        });
    </script>
</body>
</html>